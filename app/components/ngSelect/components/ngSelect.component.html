<ng-template #defaultLook>
    <span class="selected-value">{{value | ngSelectValue: valueSelector: nothingSelectedText}}</span>
    <span class="selected-caret fa fa-caret-down"></span>
</ng-template>

<ng-template #defaultOptionLook let-option>
    <div class="optionItem"
         (click)="value = option?.value">{{option?.value}}</div>
</ng-template>

<ng-template #defaultOptionsDivLook>
    <ng-template ngFor [ngForOf]="options" let-option>
        <ng-container *ngTemplateOutlet="defaultOptionLook; context: {$implicit: option, select: this}"></ng-container>
    </ng-template>
</ng-template>

<button class="btn btn-select" (click)="optionsDivVisible = !optionsDivVisible">
    <ng-container *ngTemplateOutlet="defaultLook; context: {$implicit: this}"></ng-container>
</button>

<div #optionsDiv
     *ngIf="optionsDivVisible"
     class="absolute optionsDiv"
     [style.left.px]="optionsDivStyle?.left"
     [style.top.px]="optionsDivStyle?.top">
    <ng-container *ngTemplateOutlet="defaultOptionsDivLook; context: {$implicit: this}"></ng-container>
</div>